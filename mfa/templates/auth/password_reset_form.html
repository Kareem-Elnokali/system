{% extends 'mfa/base.html' %}
{% load static %}
{% load widget_tweaks %}
{% block title %}Password Reset{% endblock %}
{% block content %}
    {% include 'partials/navbar.html' %}
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-md-7 col-lg-5">
          <div class="card border shadow-lg p-4">
            <div class="text-right mb-1">
              <button type="button" class="btn btn-link p-0" data-toggle="modal" data-target="#genericSecurityNotesModal" title="Security notes" aria-label="Open security notes">
                <i class="fa fa-info-circle info-icon brand" aria-hidden="true" style="font-size: 1rem;"></i>
              </button>
            </div>
            <h2 class="h2Title text-center mb-2"><span class="brand-color">P</span>assword Reset</h2>
            <p class="text-center text-muted mb-2">Enter your email address and we’ll email you a password reset link.</p>
            <form method="post" novalidate>
              {% csrf_token %}
              <div class="mb-3">
                <label for="{{ form.email.id_for_label }}" class="form-label">{{ form.email.label }}</label>
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="email-addon" aria-hidden="true"><i class="fa fa-envelope"></i></span>
                  </div>
                  {{ form.email|add_class:'form-control'|attr:'placeholder:you@example.com'|attr:'autocomplete:email'|attr:'aria-describedby:email-addon' }}
                </div>
                {% if form.email.errors %}
                  <div class="text-danger small mt-1">{{ form.email.errors|striptags }}</div>
                {% else %}
                  <div class="text-muted small mt-1">We’ll send a reset link to this address. Check spam if you don’t see it within a few minutes.</div>
                {% endif %}
              </div>
              <button type="submit" class="submitButton w-100">Send Reset Link</button>
            </form>
            <div class="mt-3 auth-helper">
              <p class="mb-0 small"><a class="brand-link" href="{% url 'mfa:login' %}">Back to Login</a></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% include 'partials/footer.html' %}
    <div class="modal fade" id="genericSecurityNotesModal" tabindex="-1" role="dialog" aria-labelledby="genericSecurityNotesLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title font-weight-bold" id="genericSecurityNotesLabel"><span class="brand-color">S</span>ecurity notes</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body text-left">
            <ul class="mb-0 pl-3" style="list-style: disc;">
              <li class="mb-1"><strong>Your Security Key</strong> is a short phrase we show here and in some emails. It should match.</li>
              <li class="mb-1"><strong>Keep codes private.</strong> Only enter codes on this website. We will never ask for your code or your Security Key by email, phone, or chat.</li>
              <li class="mb-1"><strong>Verify the domain.</strong> Before entering a code, ensure the address bar shows our official domain.</li>
              <li class="mb-1"><strong>Need help?</strong> Pause and contact support using the Contact page on our website.</li>
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-brand" data-dismiss="modal">Got it</button>
          </div>
        </div>
      </div>
    </div>
{% endblock %}
