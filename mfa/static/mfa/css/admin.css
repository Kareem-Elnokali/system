/* Dashboard Recent Users: match Users List action buttons */
.admin-dashboard #recent-users-section th.actions-col,
.admin-dashboard #recent-users-section td.actions-col{ width:88px; text-align:center; }
.admin-topbar .right .btn{ scroll-snap-align: start; }

/* Explicitly handle icon-only left buttons by their responsive visibility classes */
.admin-topbar .left .btn.d-md-none,
.admin-topbar .left .btn.d-sm-none{
  width: 40px; height: 40px; padding: 0 !important; display: grid; place-items: center;
}
.admin-topbar .left .btn.d-md-none i,
.admin-topbar .left .btn.d-sm-none i,
.admin-topbar .left .btn.d-md-none svg,
.admin-topbar .left .btn.d-sm-none svg{
  font-size: 18px;
}
.admin-dashboard #recent-users-section td.text-center .btn-group{ display:inline-flex; justify-content:center; align-items:center; }
.admin-dashboard #recent-users-section td.text-center .btn-group .btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:32px; height:32px; padding:0; border-radius:.35rem;
  box-shadow:none !important;
}
.admin-dashboard #recent-users-section td.actions-col .btn-group .btn + .btn{ margin-left:-1px; }
.admin-dashboard #recent-users-section td.actions-col .btn-group .btn:first-child{ border-top-right-radius:0; border-bottom-right-radius:0; border-radius:.35rem 0 0 .35rem; }
.admin-dashboard #recent-users-section td.actions-col .btn-group .btn:last-child{ border-top-left-radius:0; border-bottom-left-radius:0; border-radius:0 .35rem .35rem 0; }
.admin-dashboard #recent-users-section td.actions-col .btn,
.admin-dashboard #recent-users-section td.actions-col .btn:hover,
.admin-dashboard #recent-users-section td.actions-col .btn:focus,
.admin-dashboard #recent-users-section td.actions-col .btn:active,
.admin-dashboard #recent-users-section td.actions-col .btn:focus-visible,
.admin-dashboard #recent-users-section td.actions-col .btn:active:focus{ box-shadow:none !important; }
.admin-dashboard #recent-users-section td.actions-col .btn,
.admin-dashboard #recent-users-section td.actions-col .btn i{ color:#334155 !important; }
.admin-dashboard #recent-users-section td.actions-col .btn:hover,
.admin-dashboard #recent-users-section td.actions-col .btn:focus,
.admin-dashboard #recent-users-section td.actions-col .btn:active,
.admin-dashboard #recent-users-section td.actions-col .btn:focus-visible{ color:#334155 !important; background:#f8fafb !important; border-color:#e1e6ea !important; }
/* Dashboard Recent Users: green pill filters + brand search button */
.admin-dashboard #recent-users-section .users-status-filters{ display:flex; gap:8px; flex-wrap:wrap; }
.admin-dashboard #recent-users-section .users-status-filters .pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:3px 9px; border-radius:999px; font-weight:500;
  font-size: .8rem;
  color:#334155; background:#f1f5f9; border:1px solid #e2e8f0;
  text-decoration:none;
}
.admin-dashboard #recent-users-section .users-status-filters .pill:hover{ background:#e9f3e6; border-color:#d7e9d2; color:#2a3b4f; }
.admin-dashboard #recent-users-section .users-status-filters .pill .count{
  display:inline-flex; align-items:center; justify-content:center;
  width:22px; height:22px; padding:0; border-radius:50%; font-weight:600;
  background:#e2e8f0; color:#334155;
}
.admin-dashboard #recent-users-section .users-status-filters .pill.active{ background:var(--brand); color:#fff; border-color:var(--brand-600); }
.admin-dashboard #recent-users-section .users-status-filters .pill.active .count{ background:rgba(255,255,255,0.25); color:#fff; }

/* Keep Recent Users header tools inline (search + View all) */
.admin-dashboard #recent-users-section .recent-users-tools{ flex-wrap: nowrap; white-space: nowrap; }
.admin-dashboard #recent-users-section .recent-users-tools form{ flex-wrap: nowrap; }
.admin-dashboard #recent-users-section .recent-users-tools input.form-control{
  width: 220px; max-width: 42vw; min-width: 140px;
}
@media (max-width: 575.98px){
  .admin-dashboard #recent-users-section .recent-users-tools input.form-control{ width: 170px; max-width: 55vw; }
}

/* Brand button (green) */
.btn-brand{ background:var(--brand); border-color:var(--brand-600); color:#fff; }
.btn-brand:hover, .btn-brand:focus{ background:var(--brand-600); border-color:var(--brand-700); color:#fff; }
.btn-brand:active, .btn-brand:focus-visible{ background:var(--brand-700); border-color:var(--brand-700); color:#fff; }
/* Admin Design System */
:root{
  --admin-bg: #f6f8fa;
  --admin-surface: #ffffff;
  --admin-border: #e5e7eb;
  --admin-text: #111827;
  --muted-text: #475569;
  --brand: #55833d;
  --brand-600: #446a32;
  --brand-700: #3e612d;
  /* Standardize card body horizontal padding used for full-bleed headers */
  --card-body-p: 1.25rem;
}

/* Layout */
.admin-layout{ min-height:100vh; background: var(--admin-bg); overflow-x:hidden; align-items: stretch;}
.admin-sidebar{ width: 240px; color:#e5e7eb; position: fixed; top:0; left:0; height:100vh; min-height:100vh; flex: 0 0 240px; z-index: 1010; display: flex; flex-direction: column;
  background: linear-gradient(180deg, #0f172a 0%, #111827 100%);
  box-shadow: 0 0 0 1px rgba(255,255,255,0.03) inset, 0 10px 30px rgba(2,6,23,0.2);
}
.admin-sidebar .brand{ color:#fff; font-weight:700; letter-spacing:.3px; width:100%;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0));
  border-bottom: 1px solid rgba(255,255,255,0.06);
  border-top: 1px solid rgba(255,255,255,0.04);
  border-width: 0 0 1px 0;
  flex-wrap: nowrap; /* prevent wrap on mobile */
  flex-shrink: 0; /* prevent brand from shrinking */
}
.admin-sidebar .brand i{ color:#90e39a; }
/* Title should truncate instead of wrapping on small screens */
.admin-sidebar .brand .brand-name{ flex:1 1 auto; min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.admin-sidebar .sidebar-nav{ display:flex; flex-direction:column; gap:6px; padding:8px; overflow-y:auto; flex:1; min-height:0; max-height: calc(100vh - 80px); }
.admin-sidebar .nav-item{ display:flex; align-items:center; gap:.65rem; padding:.6rem .75rem; color:#cbd5e1; border-radius:.6rem; text-decoration:none; transition: background .18s ease, color .15s ease, box-shadow .18s ease, transform .06s ease; }
.admin-sidebar .nav-item i{ width:18px; text-align:center; }
.admin-sidebar .nav-item:hover{
  color:#fff;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
  box-shadow:
    0 1px 3px rgba(0,0,0,0.25) inset,
    0 6px 16px rgba(2,6,23,0.25);
  text-shadow: 0 1px 0 rgba(0,0,0,0.35);
}
.admin-sidebar .nav-item:focus-visible{ outline:2px solid #a3e635; outline-offset:2px; }
.admin-sidebar .nav-item.active,
.admin-sidebar .nav-item[aria-current="page"]{
  color:#f9fffb;
  background:
    linear-gradient(180deg, rgba(85,131,61,0.32), rgba(68,106,50,0.38));
  box-shadow:
    inset 0 1px 2px rgba(0,0,0,0.25),
    inset 0 0 0 1px rgba(85,131,61,0.55),
    0 8px 20px rgba(0,0,0,0.25),
    0 0 0 1px rgba(255,255,255,0.06);
  text-shadow: 0 1px 0 rgba(0,0,0,0.35);
}
.admin-sidebar .nav-item.active i,
.admin-sidebar .nav-item[aria-current="page"] i{ color:#9ae6a3; }
.admin-sidebar .nav-item.active:hover,
.admin-sidebar .nav-item[aria-current="page"]:hover{
  color:#ffffff;
  background:
    linear-gradient(180deg, rgba(118,185,87,0.40), rgba(68,106,50,0.45));
  box-shadow:
    inset 0 1px 2px rgba(0,0,0,0.28),
    inset 0 0 0 1px rgba(118,185,87,0.65),
    0 10px 28px rgba(0,0,0,0.30);
  text-shadow: 0 1px 0 rgba(0,0,0,0.35);
}
.admin-sidebar .nav-item:hover i,
.admin-sidebar .nav-item.active:hover i,
.admin-sidebar .nav-item[aria-current="page"]:hover i{ color:#ffffff; }
.admin-sidebar .sidebar-footer{ border-top:1px solid rgba(255,255,255,.08); }
.admin-sidebar .sidebar-close{ border-color: rgba(255,255,255,0.28); color:#fff; margin-left:auto; flex:0 0 auto; -webkit-tap-highlight-color: transparent; }
.admin-sidebar .sidebar-close:hover{ background: rgba(255,255,255,0.15); border-color: rgba(255,255,255,0.4); }
/* Square close button with precise icon centering */
.admin-sidebar .sidebar-close{  
  width: 32px; height: 32px; padding: 0; border-radius: .55rem;
  display: inline-block; position: relative; line-height: 0;
  box-sizing: border-box; /* include border in box */
  background: rgba(255,255,255,0.06);
  box-shadow: 0 1px 2px rgba(0,0,0,0.25) inset, 0 1px 2px rgba(0,0,0,0.12);
  transition: background .15s ease, border-color .15s ease, box-shadow .15s ease, transform .05s ease;
}
.admin-sidebar .sidebar-close i{
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  display: block; font-size: 16px; line-height: 1; margin: 0 !important; text-align: center;
}
/* Hover/active/focus states for better UX */
.admin-sidebar .sidebar-close:hover{
  background: rgba(255,255,255,0.12);
  border-color: rgba(255,255,255,0.42);
  box-shadow: 0 1px 3px rgba(0,0,0,0.18), 0 0 0 1px rgba(255,255,255,0.08) inset;
}
.admin-sidebar .sidebar-close:active{
  transform: scale(0.98);
  background: rgba(0,0,0,0.28); /* darker on press */
  border-color: rgba(255,255,255,0.28);
  box-shadow: 0 0 0 1px rgba(0,0,0,0.25) inset, 0 2px 4px rgba(0,0,0,0.3) inset;
}
.admin-sidebar .sidebar-close:focus-visible{
  outline: 2px solid #a3e635; outline-offset: 2px;
}

/* Tiny adjustments for very small screens */
@media (max-width: 400px){
  .admin-sidebar .sidebar-close{ width: 28px; height: 28px; border-radius: .5rem; }
  .admin-sidebar .brand .brand-name{ font-size: .95rem; }
}
.admin-main{ min-width:0; width:100%; padding-top: calc(var(--chip-h) + var(--sb-h) + var(--top-gap)); }
.admin-topbar{ min-height: calc(var(--chip-h) + var(--sb-h)); height:auto; background: #fff; border-bottom: 1px solid var(--admin-border); position: fixed; top:0; left:0; right:0; z-index: 12000; display:grid; grid-template-columns: 1fr var(--actions-width); column-gap: var(--gap-x); align-items: center; }
.admin-topbar .btn{ border-radius:.5rem; }
/* Minimal hamburger: plain icon, no rounded box */
.topbar-hamburger{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  width: 40px; height: 40px; padding: 0; border-radius: 0 !important;
  color: #334155;
}
.topbar-hamburger i{ font-size: 20px; line-height: 1; }
.topbar-hamburger:focus-visible{ outline:2px solid #94a3b8; outline-offset:2px; }
/* Header actions: inline with Bootstrap-like spacing and no wrap */
.admin-topbar{ --actions-width: clamp(480px, 60vw, 880px); --chip-h: 44px; --gap-x: 50px; --sb-h: 10px; --top-gap: 12px; }
.admin-topbar .left{ min-width:0; overflow:visible; padding:0; box-sizing: border-box; position: relative; z-index: 4; background: #fff; height: calc(var(--chip-h) + var(--sb-h)); display:flex; align-items:center; margin-top: 0; }
.admin-topbar .right{ flex: 0 0 var(--actions-width); max-width: var(--actions-width); min-width: 0; width: var(--actions-width); display:flex; position: relative; box-sizing: border-box; overflow: visible; pointer-events: auto; }
/* Actions wrapper with overlay to visually block scrollbar under breadcrumb gap */
.admin-topbar .actions-outer{ position: relative; width: 100%; padding-left: 0; padding-bottom: 0; overflow: visible; z-index: 1; height: calc(var(--chip-h) + var(--sb-h)); display:flex; align-items:center; }
.admin-topbar .actions-outer::before{ content: none; width: 0; }
.admin-topbar .actions-outer::after{ content: none; display: none; }
.admin-topbar .right-scroll{ display:flex; align-items:center; justify-content:flex-end; white-space: nowrap; gap:.2rem; width: 100%; min-width:0; flex-wrap: nowrap; padding:0; position: relative; left: auto; right: auto; top: auto; transform: none; height: calc(var(--chip-h) + var(--sb-h)); z-index: 12002; overflow-x:auto; overflow-y:hidden; -webkit-overflow-scrolling:touch; touch-action: pan-x; pointer-events: auto; scrollbar-width: thin; overscroll-behavior-x: contain; scroll-snap-type: x proximity; scroll-padding-left: 0; scroll-padding-right: 0; scrollbar-gutter: stable; margin-left: 0; margin-top: 0; background: transparent; box-sizing: border-box; }
/* Visible horizontal scrollbar for WebKit */
.admin-topbar .right-scroll::-webkit-scrollbar{ height: 8px; }
.admin-topbar .right-scroll::-webkit-scrollbar-thumb{ background: rgba(100,116,139,.4); border-radius: 999px; }
.admin-topbar .right-scroll:hover::-webkit-scrollbar-thumb{ background: rgba(100,116,139,.6); }
.admin-topbar .right-scroll::before{ content: none; flex: 0 0 0; }
.admin-topbar .right-scroll::after{ content:""; flex: 0 0 0; }
.admin-topbar .actions-outer .actions-scroll-btn{
  display: none; /* toggled via JS when overflow exists */
  width: 28px; height: 28px; border-radius: 999px;
  align-items: center; justify-content: center; flex: 0 0 auto;
  background: rgba(255,255,255,.95); color: #334155; border: 1px solid #cbd5e1;
  box-shadow: 0 1px 2px rgba(15,23,42,.12);
  position: absolute; top: 50%; transform: translateY(-50%);
  z-index: 3; pointer-events: auto;
}
.admin-topbar .actions-outer .actions-scroll-left{ left: 10px; }
.admin-topbar .actions-outer .actions-scroll-right{ right: 8px; }
.admin-topbar .actions-outer .actions-scroll-btn i{ font-size: 14px; line-height: 1; }
.admin-topbar .actions-outer .actions-scroll-btn:hover{ background: #f1f5f9; border-color: #94a3b8; }
.admin-topbar .actions-outer .actions-scroll-btn:disabled{ opacity: .45; cursor: default; }
/* Add bottom overlay to fully cover any visible scrollbar under the 50px gap and raise chevrons above overlays */
.admin-topbar .actions-outer::after{ content: none !important; }
.admin-topbar .actions-outer .actions-scroll-btn{
  z-index: 3;
}
/* Rich neutral design for topbar buttons (override Bootstrap blues locally) */
.admin-topbar .right .btn{
  display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
  white-space: nowrap; line-height: 1;
  height: var(--chip-h); padding: 0 .75rem; margin: 0;
  box-sizing: border-box;
  border-radius: 999px;
  border-width: 1px; border-style: solid; border-color: #cbd5e1; /* slate-300 */
  background-clip: padding-box;
  color: #334155; /* slate-700 */
  background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(248,250,252,0.9));
  backdrop-filter: saturate(120%) blur(2px);
  transition: background-color .15s ease, box-shadow .15s ease, border-color .15s ease, color .15s ease, transform .02s ease;
  position: relative; z-index: 10; pointer-events: auto;
}

/* Mobile & tablet: right actions align right; icon buttons stay circular */
@media (max-width: 991.98px){
  /* use only header padding (px-3 = 1rem) for both sides */
  .admin-topbar .actions-outer::before{ content: none; width: 0; }
  .admin-topbar .right-scroll{
    justify-content: flex-end;
    margin-left: 0;
    width: 100%;
    padding-left: 0;
    padding-right: var(--gap-x);
    scroll-padding-left: 0;
    scroll-padding-right: var(--gap-x); /* allow snap/scroll to reveal last item */
  }
  /* end spacer so last button is not clipped at the edge */
  .admin-topbar .right-scroll::after{ content: ""; flex: 0 0 0; }
  .admin-topbar .right .btn{
    width: var(--chip-h);
    min-width: var(--chip-h);
    padding: 0; /* make square */
    flex: 0 0 var(--chip-h);
    border-radius: 50%;
  }
  .admin-topbar .right .btn i{ font-size: 18px; margin: 0 !important; }
}
.admin-topbar .right .btn:hover,
.admin-topbar .right .btn:focus{
  color: #1f2937; /* slate-800 */
  border-color: #94a3b8; /* slate-400 */
  background: linear-gradient(180deg, rgba(241,245,249,0.95), rgba(229,231,235,0.92));
  box-shadow: 0 1px 2px rgba(15,23,42,.1), 0 0 0 3px rgba(148,163,184,.25);
}
.admin-topbar .right .btn:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(148,163,184,.35);
}
.admin-topbar .right .btn:active,
.admin-topbar .right .btn.active{
  color: #111827; /* slate-900 */
  border-color: #94a3b8;
  background: linear-gradient(180deg, #e5e7eb, #e2e8f0);
  box-shadow: inset 0 2px 6px rgba(15,23,42,.18), 0 0 0 2px rgba(148,163,184,.25);
  transform: translateY(0.5px);
}
/* Remove blue from outline-primary within topbar */
.admin-topbar .right .btn-outline-primary{
  color: #334155; border-color: #cbd5e1; background: transparent;
}
.admin-topbar .right .btn-outline-primary:hover,
.admin-topbar .right .btn-outline-primary:focus{
  color: #1f2937; background: linear-gradient(180deg, rgba(241,245,249,0.95), rgba(229,231,235,0.92)); border-color:#94a3b8;
}
.admin-topbar .right .btn-outline-primary:active,
.admin-topbar .right .btn-outline-primary.active{
  color: #111827; background: linear-gradient(180deg, #e5e7eb, #e2e8f0); border-color:#94a3b8;
}
/* Also neutralize .btn-primary if used in topbar */
.admin-topbar .right .btn-primary{
  color: #f8fafc; /* near-white */
  border-color: #111827;
  background: linear-gradient(180deg, #1f2937, #0f172a);
}
.admin-topbar .right .btn-primary:hover,
.admin-topbar .right .btn-primary:focus{
  color: #ffffff;
  border-color: #0b1220;
  background: linear-gradient(180deg, #111827, #0b1220);
  box-shadow: 0 1px 2px rgba(15,23,42,.25), 0 0 0 3px rgba(15,23,42,.25);
}
.admin-topbar .right .btn-primary:active,
.admin-topbar .right .btn-primary.active{
  background: linear-gradient(180deg, #0f172a, #0b1220);
  box-shadow: inset 0 2px 6px rgba(0,0,0,.3);
}
/* Remove enforced min-width on tablets; we'll only set min-width on large screens */
@media (min-width: 992px){
  .admin-topbar .right .btn{ min-width: 120px; }
}

/* Add any additional admin-specific styles here */

/* Real-time monitoring pulse animation */
.pulse-dot {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

/* Live Monitor navbar badge */
.nav-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 8px;
  height: 8px;
  background: #dc3545;
  border-radius: 50%;
  border: 1px solid #fff;
}

/* Make action area wider on small screens (breadcrumb hidden on lg+) */
@media (max-width: 991.98px){
  .admin-topbar{ --actions-width: 92vw; }
}
/* On very wide screens, cap to a comfortable max */
@media (min-width: 1200px){
  .admin-topbar{ --actions-width: 800px; }
}
/* Extra-wide screens */
@media (min-width: 1400px){
  .admin-topbar{ --actions-width: 960px; }
}

/* When the sidebar is fixed and visible (lg and up), offset the topbar so it begins after the 240px sidebar */
@media (min-width: 992px){
  .admin-topbar{ left: 240px; right: 0; width: calc(100% - 240px); }
}

/* Desktop: reserve actions width, clip breadcrumb, enable horizontal scroll */
@media (min-width: 992px){
  /* No left inset so scrollbar aligns exactly with buttons */
  .admin-topbar{ grid-template-columns: minmax(0,1fr) var(--actions-width); column-gap: var(--gap-x); overflow: hidden; isolation: isolate; --actions-left-inset: 0px; }
  .admin-topbar .left{ position: relative; overflow: hidden; z-index: 1; background: #fff; padding-right: 0; }
  /* Disable fade to avoid breadcrumb cut */
  .admin-topbar .left::after{ content: none; }
  .admin-topbar .right{ z-index: 12001; background: transparent; display:flex; }
  .admin-topbar .actions-outer{ width:100%; display:flex; align-items:center; position: relative; padding-left: 0; margin-left: 0; }
  .admin-topbar .right-scroll{ display:flex; align-items:center; gap: .15rem;
    flex: 1 1 auto; min-width:0; overflow-x:auto; overflow-y:hidden; -webkit-overflow-scrolling:touch; touch-action: pan-x; justify-content:flex-end; }
  .admin-topbar .right-scroll > *{ flex: 0 0 auto; }
}

/* Rich breadcrumb styling (clean, symmetric) */
.admin-topbar .breadcrumb{
  margin: 0;
  --bcx: .35rem; /* extra side caps, tweak as needed */
  height: var(--chip-h);
  padding: 0 .8rem; /* equal left/right, vertically center via height */
  border-radius: .75rem;
  background: rgba(17,24,39,0.06);
  box-shadow: 0 1px 0 rgba(255,255,255,0.6) inset, 0 0 0 1px rgba(17,24,39,0.05) inset;
  backdrop-filter: saturate(120%) blur(2px);
  display: inline-flex; align-items: center; flex-wrap: nowrap;
  white-space: nowrap; overflow: visible; text-overflow: clip; max-width: none;
  position: relative; z-index: 1; pointer-events: auto;
  gap: .5rem; /* uniform internal gap */
  list-style: none; padding-left: 0; /* remove default ol indent */
  line-height: 1.2;
}
/* No extra external margin so left/right look the same on all pages */
.admin-topbar .left nav{ margin-right: 0; }
.admin-topbar .breadcrumb .breadcrumb-item + .breadcrumb-item::before{
  content: "/";
  color: rgba(17,24,39,0.35);
  margin: 0; /* do not bias left/right; gap handles spacing */
}
.admin-topbar .breadcrumb .breadcrumb-item + .breadcrumb-item{ padding-left: 0; }
.admin-topbar .breadcrumb .breadcrumb-item{ flex: 0 0 auto; line-height: 1.2; }
.admin-topbar .breadcrumb::before{ content: ""; flex: 0 0 var(--bcx); }
.admin-topbar .breadcrumb::after{ content: ""; flex: 0 0 var(--bcx); }
.admin-topbar .breadcrumb .breadcrumb-item a{
  color: var(--brand-600);
  font-weight: 600;
  text-decoration: none;
  display: inline-block;
  line-height: 1.2;
}
.admin-topbar .breadcrumb .breadcrumb-item a:hover{
  color: var(--brand-700);
  text-decoration: underline;
}
.admin-topbar .breadcrumb .breadcrumb-item.active{
  color: #374151; /* gray-700 */
  font-weight: 600;
}
.admin-content{ max-width: 1280px; }

/* Topbar actions */
.admin-topbar .btn{ box-shadow:none !important; }
.admin-topbar .btn-outline-secondary{ background:#fff; border-color: var(--admin-border); color:#334155; }
.admin-topbar .btn-outline-secondary:hover{ background:#f8fafb; }
.admin-topbar .btn-outline-primary{ color: var(--brand); border-color: var(--brand); background:#fff; }
.admin-topbar .btn-outline-primary:hover{ background: var(--brand); color:#fff; }
/* Add right margin between action buttons */
/* Remove per-button margins; rely on container gap for tighter, consistent spacing */
.admin-topbar .right .btn{ margin-right: 0; }
.admin-topbar .right .btn:last-child{ margin-right: 0; }

/* Consistent header height for vertical centering */
.admin-topbar{ min-height: calc(var(--chip-h) + var(--sb-h)); }

/* Header action buttons as centered icon boxes */
.admin-topbar .right .btn{
  border-radius: .65rem; /* rounded box */
}

/* Laptop range: make buttons start more to the right and tighten widths */
@media (min-width: 992px) and (max-width: 1292px){
  /* Push actions right by enlarging the grid column gap (between breadcrumb and actions) */
  .admin-topbar{ column-gap: 90px; }
  /* Tighter buttons so more fit without large gaps */
  .admin-topbar .right .btn{ min-width: 90px; padding: 0 .45rem; }
  /* Preserve horizontal scroll alignment */
  .admin-topbar .right-scroll{ padding-left: 0; padding-right: 0; justify-content: flex-end; gap: .1rem; }
}

.admin-topbar .right .btn i,
.admin-topbar .right .btn svg{ display:inline-block; font-size:18px; line-height:1; width:auto; height:auto; text-align:center; }
.admin-topbar .right .btn i{ margin-right: .25rem; }
.admin-topbar .right .btn span{ white-space: nowrap; }
/* Nudge icons up slightly to remove bottom space (icon-only buttons) */
.admin-topbar .right .btn > i:only-child,
.admin-topbar .right .btn > svg:only-child,
.admin-topbar .left .btn > i:only-child,
.admin-topbar .left .btn > svg:only-child{ position: static; top: 0; }
/* Reset any vertical shifts; rely on flex/grid centering */
.admin-topbar .left .btn i,
.admin-topbar .left .btn svg,
.admin-topbar .right .btn i,
.admin-topbar .right .btn svg{ position: static; transform: none; }
/* Ensure left-side topbar buttons (hamburger, back) have same centering */
.admin-topbar .left .btn{ border-radius: .65rem; display:grid; place-items:center; line-height:1; }
.admin-topbar .left .btn.d-md-none,
.admin-topbar .left .btn.d-sm-none{ line-height: 0; width:40px; height:40px; padding:0; display:grid; place-items:center; }
.admin-topbar .left .btn i,
.admin-topbar .left .btn svg{ margin:0 !important; display:block; font-size:18px; line-height:1; width:auto; height:auto; text-align:center; justify-self:center; }
/* Normalize icon size on left icon-only buttons */
.admin-topbar .left .btn.d-md-none i,
.admin-topbar .left .btn.d-sm-none i{ font-size:18px; }
/* Remove any inner spacing that may shift icons (only for icon-only variants) */
.admin-topbar .left .btn.d-md-none > *,
.admin-topbar .left .btn.d-sm-none > *{ margin:0 !important; }
/* Square, centered icon buttons on small screens (xs & sm) */
/* Phones: icon-only 40x40 + scroll */
@media (max-width: 767.98px){
  /* Make actions horizontally scrollable on mobile */
  .admin-topbar .right-scroll{
    overflow-x: auto; overflow-y: hidden; -webkit-overflow-scrolling: touch;
    max-width: 100%; flex: 1 1 auto; min-width: 0; justify-content: flex-end;
    padding-bottom: 2px; touch-action: pan-x;
  }
  .admin-topbar .right-scroll::-webkit-scrollbar{ height: 6px; }
  .admin-topbar .right-scroll::-webkit-scrollbar-thumb{ background: rgba(0,0,0,0.15); border-radius: 999px; }
  .admin-topbar .right .btn{
    width: 40px; height: 40px; padding:0; display:inline-flex; align-items:center; justify-content:center;
    margin-right: .5rem; /* compact spacing */
  }
  .admin-topbar .right .btn:last-child{ margin-right: 0; }
  .admin-topbar .right .btn i{ font-size: 18px; margin-right: 0 !important; }
  .admin-topbar .left .btn{
    width: 40px; height: 40px; padding:0; display:grid; place-items:center;
  }
  .admin-topbar .left .btn i{ font-size:18px; }
}

/* Tablets (md: 768-991.98px): keep icon-only sizing and horizontal scroll */
@media (min-width: 768px) and (max-width: 991.98px){
  .admin-topbar .right-scroll{ overflow-x: auto; overflow-y: hidden; -webkit-overflow-scrolling: touch; max-width: 100%; flex: 1 1 auto; min-width: 0; justify-content: flex-end; touch-action: pan-x; padding-bottom: 2px; }
  .admin-topbar .right .btn{
    width: 44px; height: 44px; padding:0; display:inline-flex; align-items:center; justify-content:center;
    margin-right: .5rem;
  }
  .admin-topbar .right .btn:last-child{ margin-right: 0; }
  .admin-topbar .right .btn i{ font-size: 18px; margin-right: 0 !important; }
}

/* Icon-only button refinement: ensure sole icon is centered horizontally */
.admin-topbar .left .btn > i:only-child,
.admin-topbar .left .btn > svg:only-child,
.admin-topbar .right .btn > i:only-child,
.admin-topbar .right .btn:first-child{ margin-left: 0; display:inline-flex !important; }

/* Subtle vertical nudge for icon-only buttons to account for font metrics on laptops */
.admin-topbar .left .btn > i:only-child,
.admin-topbar .left .btn > svg:only-child,
.admin-topbar .right .btn > i:only-child,
.admin-topbar .right .btn > svg:only-child{
  position: relative; top: 0;
}

/* Cards */
.card{ border:1px solid var(--admin-border); border-radius:.65rem; background:#fff; }
.action-card{ border: 1px solid #e6f0e1; border-radius:.5rem; background:#fff; transition: transform .08s ease, box-shadow .08s ease; }
.action-card:hover{ transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,.06); }
.action-card .action-icon{ width:40px; height:40px; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; line-height:1; margin:0 auto; }
.action-card .action-icon i{ display:block; line-height:1; font-size:18px; }

/* Quick Actions: keep icons centered even on laptop (lg+) */
@media (min-width: 992px){
  .quick-actions-row .action-card{
    display: block;
    text-align: center;
    width: 100%;
  }
  .quick-actions-row .action-card .action-icon{
    margin: 0 auto !important;
    width: 44px; height: 44px; border-radius: 12px;
    display: inline-flex; align-items: center; justify-content: center;
  }
  .quick-actions-row .action-card .fw-semibold,
  .quick-actions-row .action-card .small{
    margin: 0.25rem 0 0 0;
    display: block;
    white-space: normal;
  }
}

/* Dashboard box background (subtle diagonal stripes) */
.admin-dashboard .card,
.admin-dashboard .action-card{
  background-color: #ffffff;
  /* Rich but clean layered background */
  background-image:
    radial-gradient(1200px 200px at 100% -50%, rgba(85,131,61,0.06), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.95), #ffffff);
  border-radius: .65rem;
  box-shadow: 0 4px 14px rgba(0,0,0,.06), 0 1px 0 rgba(255,255,255,.6) inset;
  background-clip: padding-box;
  position: relative;
  overflow: hidden; /* ensure inner elements follow rounded corners */
}

/* Inner subtle outline for definition */
.admin-dashboard .card::after,
.admin-dashboard .action-card::after{
  content: "";
  position: absolute; inset: 0; border-radius: inherit; pointer-events: none;
  box-shadow: inset 0 0 0 1px rgba(17,24,39,0.04);
  z-index: 0; /* sit beneath content like section headers */
}

/* Subtle brand accent on top edge */
.admin-dashboard .card,
.admin-dashboard .action-card{
  border-top-width: 2px;
  border-top-color: rgba(85,131,61,0.18);
}

/* Consistent radius for action tiles */
.admin-dashboard .action-card{ border-radius:.65rem; }

/* Harmonized hover/elevation */
.admin-dashboard .card:hover,
.admin-dashboard .action-card:hover{
  /* No movement on hover; only gentle emphasis */
  transform: none;
  box-shadow: 0 8px 22px rgba(0,0,0,.08), 0 1px 0 rgba(255,255,255,.6) inset;
}

/* Richer card header/title styling */
.admin-dashboard .card .card-header{
  /* Use full-width green header look to match design */
  background: linear-gradient(135deg, rgba(118,185,87,0.98) 0%, rgba(63,111,44,0.98) 100%);
  border-bottom: 1px solid rgba(255,255,255,0.25);
  color: #fff;
  font-weight: 600;
  position: relative;
  z-index: 1;
  border-top-left-radius: inherit;
  border-top-right-radius: inherit;
}
.admin-dashboard .card .card-header h5,
.admin-dashboard .card .card-header .card-title,
.admin-dashboard .card .card-header .mb-0{ color:#fff; font-weight:600; }
.admin-dashboard .card .card-title,
.admin-dashboard .card h5{ font-weight: 600; color:#111827; }
.admin-dashboard .card .text-muted{ color:#64748b !important; }
/* Buttons inside green card-header - outlined white pill */
.admin-dashboard .card .card-header .btn{
  border-radius: 999px;
  box-shadow: none !important;
  border-width: 1.5px;
  color:#fff;
  background: transparent;
  border-color: rgba(255,255,255,0.95);
  padding: .25rem .75rem;
  font-weight: 600;
}
.admin-dashboard .card .card-header .btn:hover,
.admin-dashboard .card .card-header .btn:focus{
  color:#1f2937; background:#fff; border-color:#fff;
}
.admin-dashboard .card .card-header .btn[class*="btn-outline-"]{
  color:#fff; background: transparent; border-color: rgba(255,255,255,0.95);
}
.admin-dashboard .card .card-header .btn[class*="btn-outline-"]:hover,
.admin-dashboard .card .card-header .btn[class*="btn-outline-"]:focus{
  color:#1f2937; background:#fff; border-color:#fff;
}

/* Full-width green section header inside cards */
.admin-dashboard .card .section-header{
  /* pull to card edges to remove inner white box, based on standardized padding */
  margin-left: calc(-1 * var(--card-body-p));
  margin-right: calc(-1 * var(--card-body-p));
  margin-top: calc(-1 * var(--card-body-p));
  margin-bottom: 1rem;
  padding-top: .75rem;
  padding-bottom: .75rem;
  padding-left: var(--card-body-p);
  padding-right: var(--card-body-p);
  border-top-left-radius: inherit;
  border-top-right-radius: inherit;
  position: relative;
  z-index: 1; /* sit above inner outline */
  background: linear-gradient(135deg, rgba(118,185,87,0.98) 0%, rgba(63,111,44,0.98) 100%);
  color: #fff;
}
.admin-dashboard .card .section-header h5,
.admin-dashboard .card .section-header .mb-0{ color:#fff; }
.admin-dashboard .card .section-header .text-muted{ color: rgba(255,255,255,0.85) !important; }
/* Buttons inside green header - outlined white pill (photo design) */
.admin-dashboard .card .section-header .btn{
  border-radius: 999px;
  box-shadow: none !important;
  border-width: 1.5px;
  color:#fff;
  background: transparent;
  border-color: rgba(255,255,255,0.95);
  padding: .25rem .75rem;
  font-weight: 600;
}
.admin-dashboard .card .section-header .btn:hover,
.admin-dashboard .card .section-header .btn:focus{
  color:#1f2937; background:#fff; border-color:#fff;
}
/* Ensure all outline variants look the same on the green header */
.admin-dashboard .card .section-header .btn[class*="btn-outline-"]{
  color:#fff; background: transparent; border-color: rgba(255,255,255,0.95);
}
.admin-dashboard .card .section-header .btn[class*="btn-outline-"]:hover,
.admin-dashboard .card .section-header .btn[class*="btn-outline-"]:focus{
  color:#1f2937; background:#fff; border-color:#fff;
}

/* Focus ring for accessibility on dark/green background */
.admin-dashboard .card .section-header .btn:focus-visible{
  outline: 2px solid #fff; outline-offset: 2px;
}

/* Lists and separators inside cards */
.admin-dashboard .card .list-group-item{ border-color: var(--admin-border); }
.admin-dashboard .card .divider{ height:1px; background: var(--admin-border); margin: .5rem 0; }

/* Standardize padding inside admin dashboard cards so headers align perfectly */
.admin-dashboard .card .card-body{ padding: var(--card-body-p); }

/* Username links: use brand green only in admin tables */
.admin-dashboard a.user-link,
.admin-dashboard a.username{
  color: var(--brand-600) !important;
  font-weight: 600;
}
.admin-dashboard a.user-link:visited,
.admin-dashboard a.username:visited{
  color: var(--brand-600) !important;
}
.admin-dashboard a.user-link:hover,
.admin-dashboard a.username:hover{
  color: var(--brand-700) !important;
  text-decoration: underline;
}
.admin-dashboard a.user-link:focus-visible,
.admin-dashboard a.username:focus-visible{
  outline: 2px solid rgba(34,197,94,0.45);
  outline-offset: 2px;
}

/* Ensure readable badge text on colored backgrounds within admin */
.admin-main .badge.bg-success,
.admin-main .badge.bg-danger,
.admin-main .badge.bg-secondary,
.admin-main .badge.bg-primary,
.admin-main .badge.bg-warning,
.admin-main .badge.bg-info{
  color:#fff !important;
}

/* Hero admin look */
.gradient-hero.admin-hero{ position:relative; background: linear-gradient(135deg, rgba(118,185,87,0.98) 0%, rgba(63,111,44,0.98) 100%); }
.gradient-hero.admin-hero::after{ content:""; position:absolute; inset:0; pointer-events:none; background-image: repeating-linear-gradient(135deg, rgba(255,255,255,0.06) 0, rgba(255,255,255,0.06) 2px, transparent 2px, transparent 10px); opacity:.35; }

/* Ensure admin hero is visible on mobile/tablet.
   Global style.css hides .gradient-hero under 992px; scope override for admin variant. */
@media (max-width: 991.98px){
  .gradient-hero.admin-hero{ display:block !important; }
}

/* Stats */
.stats-cards-row > [class*="col-"]{ display:flex; margin-bottom:.5rem; }
.stats-cards-row .card{ display:flex; flex-direction:column; width:100%; }
.stats-cards-row .card .card-body{ flex:1; display:flex; flex-direction:column; justify-content:center; min-height:120px; }

/* Chart toolbar */
#auth-mode-group{ margin-right: 12px !important; display:inline-flex; gap:6px; overflow:visible !important; }
#auth-mode-group.btn-group-sm .btn{ padding:.25rem .8rem !important; height:30px; font-size:.85rem !important; display:inline-flex; align-items:center; justify-content:center; border-radius:999px !important; box-shadow:none !important; border:1px solid var(--admin-border); background:#fff; font-weight:600; line-height:1.2; }
#auth-mode-group .btn + .btn{ margin-left:0 !important; }
#auth-mode-group .btn.btn-primary{ background: var(--brand) !important; border-color: var(--brand) !important; color:#fff !important; }
#auth-mode-group .btn.btn-outline-primary{ color: var(--brand); border-color: var(--brand); background:#fff; }
#auth-mode-group .btn.btn-outline-primary:hover{ color: var(--brand); background:#fff; border-color: var(--brand); box-shadow:none !important; }

/* Topbar button icons alignment */
.admin-topbar .btn i{ display:inline-flex; align-items:center; justify-content:center; width:1.1em; text-align:center; line-height:1; }

/* Recent logs */
.recent-logs .list-group-item{ padding-left:0; padding-right:0; }
.recent-logs .meta{ white-space:nowrap; color:#64748b; }
.recent-logs .username{ font-weight:600; color:#111827; }
.recent-logs .badge-soft{ background:#f1f5f9; color:#334155; border:1px solid #e5e7eb; font-weight:600; }
.recent-logs .dot{ display:inline-block; width:4px; height:4px; border-radius:999px; background:#cbd5e1; vertical-align:middle; margin:0 .5rem; }
.recent-logs .ip{ color:#6b7280; }
.recent-logs .when{ color:#6b7280; font-variant-numeric: tabular-nums; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
.recent-logs .item-row{ display:flex; align-items:center; justify-content: space-between; gap:.5rem; flex-wrap: wrap; }

/* Users table/button harmony used across pages */
.table thead th{ background:#f8fafb; border-top:none; color:#475569; }
.table tbody tr:hover{ background:#fcfdfd; }
.table td, .table th{ vertical-align: middle; }

.btn-icon{ border:1px solid var(--admin-border); background:#fff; color:#334155; width:32px; height:32px; display:inline-flex; align-items:center; justify-content:center; border-radius:.35rem; }
.btn-icon:hover{ background:#f8fafb; color:#111827; }
.btn-icon.danger{ color:#b91c1c; border-color:#f1d5d5; }
.btn-icon.danger:hover{ background:#fef2f2; }

/* Toolbar checkbox (Show numbers) - use brand green and align neatly */
.toolbar-checkbox .form-check-input{
  width: 1.05rem; height: 1.05rem; margin:0; padding:0;
  border:1px solid var(--admin-border);
  accent-color: var(--brand);
  box-shadow: none !important;
}
.toolbar-checkbox .form-check-input:focus{ outline:0; box-shadow: 0 0 0 .2rem rgba(85,131,61,.25) !important; }
.toolbar-checkbox .form-check-label{ margin-left:.5rem !important; line-height:1; }

/* Utilities */
.text-brand{ color: var(--brand) !important; }
.bg-brand{ background: var(--brand) !important; color:#fff !important; }
.border-brand{ border-color: var(--brand) !important; }
.link-brand{ color: var(--brand); }
.link-brand:hover{ color: var(--brand-600); }

/* Responsive */
@media (max-width: 991.98px){
  /* Mobile slide-in sidebar */
  #adminSidebar{ position: fixed; left:0; top:0; height:100vh; width:240px; transform: translateX(-100%); transition: transform .25s ease, box-shadow .25s ease; z-index: 1055; }
  #adminSidebar.show{ transform: translateX(0); box-shadow: 0 20px 60px rgba(2,6,23,.45); }
  .admin-main{ margin-left: 0; }
  /* Backdrop to close sidebar */
  .admin-backdrop{ position: fixed; inset: 0; background: rgba(15,23,42,0.45); opacity: 0; visibility: hidden; transition: opacity .2s ease; z-index: 1050; }
  #adminSidebar.show ~ .admin-backdrop{ opacity: 1; visibility: visible; }
  /* Sidebar collapses by default, and overlays when opened */
  .admin-sidebar{ display:none !important; position:fixed; left:0; top:0; height:100vh; width:240px; z-index:1050; box-shadow: 0 10px 30px rgba(0,0,0,.25); }
  .admin-sidebar.show{ display:block !important; }
  /* Prevent horizontal scroll in content area when rows use negative margins */
  .admin-content{ overflow-x:hidden; }
  /* Ensure the green hero is visible and comfortable on mobile */
  .admin-dashboard .glass-frame{ display:block !important; }
  .admin-dashboard .hero-unified{ display:block !important; }
  .admin-dashboard .hero-unified .admin-hero{ display:block !important; min-height: 140px; padding: 1rem 1.25rem; border-radius: .85rem !important; width:100%; overflow:hidden; }
  /* Override any utility that removes right-side radius on mobile */
  .admin-dashboard .hero-unified .admin-hero.no-right-radius{ border-top-right-radius: .85rem !important; border-bottom-right-radius: .85rem !important; }
  .admin-dashboard .hero-unified .admin-hero .display-4{ font-size: 1.75rem; line-height: 1.2; }

  /* Eliminate inner gaps and ensure rounding is applied by parent */
  .admin-dashboard .glass-frame{ padding: 0 !important; border-radius: .85rem; overflow: hidden; }
  .admin-dashboard .hero-unified{ padding: 0 !important; margin: 0 !important; }
  .admin-dashboard .frame-panel-left{ border-radius: inherit !important; overflow: hidden; }
  .admin-dashboard .frame-panel-left.admin-hero{ border-radius: inherit !important; }
}

/* On lg+ screens, ensure the sidebar is visible even though it uses .collapse */
@media (min-width: 992px){
  #adminSidebar.collapse{ display:flex !important; height:auto !important; }
}

/* On lg+ screens, fix the sidebar and offset main content */
@media (min-width: 992px){
  #adminSidebar{ position: fixed; left:0; top:0; height:100vh; }
  .admin-main{ margin-left: 240px; }
  /* Offset fixed topbar to not overlap the fixed sidebar */
  .admin-topbar{ left:240px; right:0; width: calc(100% - 240px); }
}
